#!/bin/bash

# Autostart
killall -q picom
while pgrep -x picom >/dev/null; do sleep 1; done
picom -b --config ~/.config/picom/picom.conf &

killall -q dunst
killall -q notify-osd
while pgrep -x dunst >/dev/null; do sleep 1; done
while pgrep -x notify-osd >/dev/null; do sleep 1; done
dunst -config ~/.config/dunst/dunst &

killall -q sxhkd
while pgrep -x sxhkd >/dev/null; do sleep 1; done

feh --bg-fill ~/Pictures/Wallpapers/chuttersnap-unsplash.jpg

xrdb ~/.xrdb/colors &

sh /home/piero/.config/polybar/launch.sh &

sxhkd &

xautolock -time 20 -detectsleep -locker "betterlockscreen --lock" &
xsetroot -cursor_name left_ptr &

# Workspaces
bspc monitor -d 1 2 3 4 5 6 7 8 9 10

# Colors
. "${HOME}/.xrdb/colors"

# Set the border colors
bspc config normal_border_color "$color1"
bspc config active_border_color "$color2"
bspc config focused_border_color "$color15"

bspc config presel_feedback_color "$color1"
bspc config presel_border_color "$color1"

# Borders and Gaps
bspc config border_width 1
bspc config window_gap  10

bspc config bottom_padding	0
bspc config top_padding	10

bspc config split_ratio 0.50
bspc config gapless_monocle false
bspc config click_to_focus any

# Rules
bspc rule -a Chromium desktop='2' follow=on
bspc rule -a Spotify desktop='4'
bspc rule -a Zathura desktop='3' state=tiled follow=on
bspc rule -a 'Primal Engine' state=floating
